<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'wasm-unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://api.emailjs.com; frame-ancestors 'none';" />

    <title>TALINTEL Consulting</title>

    <link rel="icon" href="/favicon-32x32.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Arimo:wght@700&family=Montserrat:wght@400;600;700&family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/klaro-org/klaro-js@latest/dist/klaro.min.css" />
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Register service worker for caching and offline support
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js', { scope: '/' })
            .then(reg => console.log('Service Worker registered'))
            .catch(err => console.log('Service Worker registration failed:', err));
        });

    // Klaro.js Configuration for GA Consent
    window.klaro = {
      version: 1,
      elementID: 'klaro',
      styling: {
        theme: ['dark'],
        noConsentInfobox: false,
        htmlClasses: ['klaro'],
      },
      storageMethod: 'localStorage',
      cookieExpiresAfterDays: 365,
      privacyPolicy: undefined,
      services: {
        ga: {
          label: 'Google Analytics',
          description: 'Analyze how visitors use TALINTEL to help us improve the site experience.',
          purposes: ['analytics'],
          cookies: ['_ga', '_gat', '_gid'],
          required: false,
        },
      },
      translations: {
        en: {
          privacyPolicy: {
            name: 'Privacy Policy',
            text: '',
          },
          consentModal: {
            description: 'This site uses analytics only to understand how visitors use TALINTEL.\nData is never sold or shared with third parties and is used solely to improve this site.',
          },
          consentNotice: {
            description: 'This site uses analytics only to understand how visitors use TALINTEL.\nData is never sold or shared with third parties and is used solely to improve this site.',
          },
          purposes: {
            analytics: 'Analytics',
          },
        },
      },
    };

        // Load Klaro consent manager
    var script = document.createElement('script');
    script.async = true;
    script.src = 'https://cdn.jsdelivr.net/gh/klaro-org/klaro-js@latest/dist/klaro.min.js';
    document.head.appendChild(script);
      }
    </script>
  </body>
</html>
